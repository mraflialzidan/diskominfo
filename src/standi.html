<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="/src/app.js" defer></script>
</head>

<body>
    <div class="sidebar-wrapper">
        <div class="sidebar">
            <div class="text-display">
                <span>DISKOMINFOSTANDI</span>
            </div>
            <div class="sidebar-content">
                <ul class="sidebar-item active">
                    <li>
                        <a href="/src/dashboard.html">
                            <i class="fa-solid fa-cube"></i>
                            <span>dashboard</span>
                        </a>
                    </li>
                </ul>
                <ul class="sidebar-item">
                    <li>
                        <a href="/src/userprofile.html">
                            <i class="fa-solid fa-user"></i>
                            <span>user profile</span>
                        </a>
                    </li>
                </ul>
                <div class="majors-wrapper">
                    <div class="majors-cta">
                        <i class="fa-solid fa-globe"></i>
                        <span>Bidang</span>
                        <i class="fa-solid fa-angle-down dropdown-cta dropdown-icon"></i>
                    </div>
                    <div class="majors-toggle">
                        <ul class="sidebar-item">
                            <li>
                                <a href="/src/pip.html">
                                    <span>pip</span>
                                </a>
                            </li>
                        </ul>
                        <ul class="sidebar-item">
                            <li>
                                <a href="/src/tik.html">
                                    <span>tik</span>
                                </a>
                            </li>
                        </ul>
                        <ul class="sidebar-item">
                            <li>
                                <a href="/src/standi.html">
                                    <span>standi</span>
                                </a>
                            </li>
                        </ul>
                        <ul class="sidebar-item">
                            <li>
                                <a href="/src/e-gov.html">
                                    <span>e-gov</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <ul class="sidebar-item">
                    <li>
                        <a href="/src/lokasi.html">
                            <i class="fa-solid fa-location-dot"></i>
                            <span>lokasi</span>
                        </a>
                    </li>
                </ul>
                <ul class="sidebar-item log-out">
                    <li>
                        <a href="/login.html">
                            <i class="fa-solid fa-right-from-bracket log-out-icon"></i>
                            <span>Log out</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="nav-wrapper">
        <nav>
            <div class="welcome-display">
                <span>STANDI</span>
            </div>
            <div class="hamburger">
                <i class="fa-solid fa-bars hamburger-icon" style="color: #b0b3bc;"></i>
                <div class="add-new-cta">
                    <button>
                        <i class="fa-solid fa-plus" style="color: #0860f7;"></i>
                        Add New
                    </button>
                </div>
            </div>
        </nav>
    </div>

    <div class="form-wrapper">
        <form id="intern-form">
            <input type="text" id="name" placeholder="Name" required>
            <input type="number" id="age" placeholder="Age" required>
            <input type="text" id="school" placeholder="School" required>
            <input type="text" id="duration" placeholder="Duration" required>
            <input type="text" id="status" placeholder="Status" required>
            <button type="submit">Add Intern</button>
        </form>
    </div>

    <div class="table-wrapper">
        <div class="table-container">
            <table class="interns-table">
                <thead>
                    <tr>
                        <th>Nama</th>
                        <th>Usia</th>
                        <th>Kampus/Sekolah</th>
                        <th>Durasi</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>test</td>
                        <td>test</td>
                        <td>test</td>
                        <td>test</td>
                        <td>test</td>
                        <td class="table-cta">
                            <i class="fa-solid fa-pen-to-square"></i>
                            <i class="fa-solid fa-trash-can" style="color: #fc0303;"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <script>
        function getCurrentFilename() {
            // Get the current HTML file path and extract the filename
            let currentFile = window.location.pathname;
            let filename = currentFile.split('/').pop();
            return filename;
        }

        document.getElementById('intern-form').addEventListener('submit', function (event) {
            event.preventDefault();

            let newIntern = {
                name: document.getElementById('name').value,
                age: document.getElementById('age').value,
                school: document.getElementById('school').value,
                duration: document.getElementById('duration').value,
                status: document.getElementById('status').value
            };

            addIntern(newIntern);
        });

        function addIntern(intern) {
            let filename = getCurrentFilename();
            let storageKey = 'interns_' + filename;

            let interns = JSON.parse(localStorage.getItem(storageKey)) || [];
            interns.push(intern);
            localStorage.setItem(storageKey, JSON.stringify(interns));
            loadInterns();
        }

        function loadInterns() {
            let filename = getCurrentFilename();
            let storageKey = 'interns_' + filename;

            let interns = JSON.parse(localStorage.getItem(storageKey)) || [];
            let internsTable = document.querySelector('.interns-table tbody');
            internsTable.innerHTML = '';

            // Add each intern to the table
            for (let i = 0; i < interns.length; i++) {
                let row = `<tr>
                    <td>${interns[i].name}</td>
                    <td>${interns[i].age}</td>
                    <td>${interns[i].school}</td>
                    <td>${interns[i].duration}</td>
                    <td>${interns[i].status}</td>
                    <td>
                        <i class="fa-solid fa-trash-can" style="color: #fc0303;" onclick="deleteIntern(${i})"></i>
                    </td>
                </tr>`;

                internsTable.innerHTML += row;
            }
        }

        function deleteIntern(index) {
            let filename = getCurrentFilename();
            let storageKey = 'interns_' + filename;

            let interns = JSON.parse(localStorage.getItem(storageKey)) || [];
            interns.splice(index, 1);
            localStorage.setItem(storageKey, JSON.stringify(interns));
            loadInterns();
        }

        loadInterns();
    </script>


</body>

</html>